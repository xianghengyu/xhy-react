"use strict";(self.webpackChunkxhy_react=self.webpackChunkxhy_react||[]).push([[60],{23060:function(Qe,I,n){n.r(I),n.d(I,{ColumnsProps:function(){return Be},DebounceX:function(){return _},Echarts:function(){return Ie},Foo:function(){return te},Introduce:function(){return re},RichEdit:function(){return Te},SuperForm:function(){return ie},SuperTable:function(){return we}});var x=n(71062),e=n(99678),q=function(t){var a=function(v){var u;return function(){var r=!0;return u&&(clearTimeout(u),r=!1),u=setTimeout(function(){clearTimeout(u),u=!1},v),r}},h=a(t.wait||500),s=function(){h()&&t.onDebounceClick()};return(0,e.jsx)("div",{onClick:s,children:t.children})},_=q,ee=function(t){return(0,e.jsx)("h4",{children:t.title})},te=ee,P=n(66451),ne=n(89442),T=n(70554),le=function(t){return(0,e.jsx)(P.ZP,{locale:T.Z,children:(0,e.jsx)(ne.Z,{open:t.open||!1,onClose:t.onClose,steps:t.steps||[]})})},re=le,ae=n(82242),i=n.n(ae),ue=n(79800),F=n.n(ue),j=n(3609),N=n(72498),A=n(68905),R=n(66490),w=n(28084),$=n(41185),k=n(60994),z=n(46676),K=n(9914),g=n(53983),oe=function(t){var a=j.Z.useForm(),h=F()(a,1),s=h[0],C=function(r){switch(r.dataType){case"input":return(0,e.jsx)(N.Z,{style:{width:r.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(r.title)});case"boolean":return(0,e.jsx)(A.Z,{});case"number":return(0,e.jsx)(R.Z,{});case"date":return(0,e.jsx)(w.default,{style:{width:r.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(r.title)});case"datetime":return(0,e.jsx)(w.default,{style:{width:r.width||300},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),showTime:!0});case"time":return(0,e.jsx)($.Z,{style:{width:r.width||260},showNow:!0});case"select":return(0,e.jsx)(k.default,{style:{width:r.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0,options:r.dataSource||[]});case"cascader":return(0,e.jsx)(z.Z,{style:{width:r.width||260},options:r.dataSource||[],placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0});case"tree":return(0,e.jsx)(K.Z,{showSearch:!0,dropdownStyle:{width:r.width||260,maxHeight:400,overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0,treeDefaultExpandAll:!0,treeData:r.dataSource||[]});default:return(0,e.jsx)(N.Z,{style:{width:r.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(r.title)})}},v=function(r){return r.map(function(f){return(0,e.jsx)(j.Z.Item,i()(i()({name:f.dataIndex,label:f.title,valuePropName:f.dataType==="boolean"?"checked":"value",rules:[{required:f.required,message:"\u8BF7\u8F93\u5165".concat(f.title,"!")}]},f.antItemProps),{},{children:C(f)}),f.dataIndex)})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(j.Z,i()(i()({form:s,onFinish:function(r){t.onSearchBarFinish&&t.onSearchBarFinish(r)}},t.antProps),{},{children:t.type=="line"||!t.type?(0,e.jsxs)("div",{className:"form-item-list",children:[v(t.columns),(0,e.jsxs)("div",{className:"submit-btn",children:[(0,e.jsx)(g.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,e.jsx)(g.ZP,{onClick:function(){s.resetFields(),t.onReset&&t.onReset()},children:"\u91CD\u7F6E"})]})]}):(0,e.jsxs)(e.Fragment,{children:[v(t.columns),(0,e.jsxs)("div",{className:"submit-btn-vertical",children:[(0,e.jsx)(g.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,e.jsx)(g.ZP,{onClick:function(){s.resetFields(),t.onReset&&t.onReset()},children:"\u91CD\u7F6E"})]})]})}))})},ie=oe,ce=n(37205),se=n.n(ce),de=n(7557),O=n.n(de),he=n(41498),me=n.n(he),U=n(94166),fe=n(47577),Z=n(57139),ve=n(48768),xe=n(74909),Ce=n(13080),X=n(54683),je=n(62995),G=function(c){var t=c.title,a=c.icon,h=c.myStyle,s=c.placement,C=c.onClick,v=c.action;return(0,e.jsx)(je.Z,{title:t,placement:s,mouseEnterDelay:0,color:"#ffffff",overlayInnerStyle:{color:"#000"},children:(0,e.jsx)("div",{className:v?"IconButtonAction IconButton":"IconButton",style:h||{width:40,height:40},onClick:C,children:a&&a})})},Fe=n(64281),ge=n(83951),ye=n(19178),H=function(t){switch(t.dataType){case"input":return(0,e.jsx)(X.ZP,{allowClear:!0,style:{width:t.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(t.title)});case"boolean":return(0,e.jsx)(A.Z,{});case"number":return(0,e.jsx)(R.Z,{});case"date":return(0,e.jsx)(w.default,{allowClear:!0,style:{width:t.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(t.title)});case"datetime":return(0,e.jsx)(w.default,{allowClear:!0,style:{width:t.width||300},placeholder:"\u8BF7\u9009\u62E9".concat(t.title),showTime:!0});case"time":return(0,e.jsx)($.Z,{allowClear:!0,style:{width:t.width||260},showNow:!0});case"select":return(0,e.jsx)(k.default,{style:{width:t.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(t.title),allowClear:!0,options:t.dataSource||[]});case"cascader":return(0,e.jsx)(z.Z,{style:{width:t.width||260},options:t.dataSource||[],placeholder:"\u8BF7\u9009\u62E9".concat(t.title),allowClear:!0});case"tree":return(0,e.jsx)(K.Z,{showSearch:!0,dropdownStyle:{width:t.width||260,maxHeight:400,overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9".concat(t.title),allowClear:!0,treeDefaultExpandAll:!0,treeData:t.dataSource||[]});default:return(0,e.jsx)(X.ZP,{allowClear:!0,style:{width:t.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(t.title)})}},Se=function(t){return t.filter(function(a){return a.search}).map(function(a){return(0,e.jsx)(j.Z.Item,{name:a.dataIndex,label:a.title,valuePropName:a.dataType==="boolean"?"checked":"value",rules:[{required:a.required,message:"\u8BF7\u8F93\u5165".concat(a.title,"!")}],children:H(a)},a.dataIndex)})},Ee=function(t){var a=j.Z.useForm(),h=F()(a,1),s=h[0],C=(0,x.useState)(!1),v=F()(C,2),u=v[0],r=v[1],f=(0,x.useState)([]),V=F()(f,2),B=V[0],Y=V[1],Ne=(0,x.useState)("middle"),J=F()(Ne,2),L=J[0],Ae=J[1],Re=j.Z.useForm(),$e=F()(Re,1),D=$e[0],ke=(0,x.useState)(""),Q=F()(ke,2),ze=Q[0],b=Q[1],W=function(l){return l.key===ze},Ke={showSizeChanger:!0,onChange:function(l,o){t.onPageChange&&t.onPageChange(l,o)}},Oe=function(l){D.setFieldsValue(i()({},l)),b(l.key)},Ue=function(){b("")},Xe=function(){var m=me()(O()().mark(function l(o){var S;return O()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,D.validateFields();case 3:S=d.sent,t.onUpdate&&t.onUpdate(S,o),b(""),d.next=11;break;case 8:d.prev=8,d.t0=d.catch(0),console.log(d.t0);case 11:case"end":return d.stop()}},l,null,[[0,8]])}));return function(o){return m.apply(this,arguments)}}(),Ge=function(l){var o=se()(l.columns);return(l.onDelete||l.onUpdate||l.onPreview)&&o.push({title:"\u64CD\u4F5C",align:"center",key:"edit",readOnly:!0,fixed:"right",width:200,render:function(E,d){var Le=W(d);return Le?(0,e.jsxs)("div",{className:"table-operation-btn",children:[(0,e.jsx)("div",{className:"operate-btn-item-update",onClick:function(){Xe(d)},children:"\u4FDD\u5B58"}),(0,e.jsx)(U.Z,{title:"\u786E\u8BA4\u53D6\u6D88\u4FDD\u5B58\u5417?",onConfirm:function(){Ue()},onCancel:function(){},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,e.jsx)("div",{className:"operate-btn-item-delete",children:"\u53D6\u6D88"})})]}):(0,e.jsxs)("div",{className:"table-operation-btn",children:[l.onUpdate&&(0,e.jsx)("div",{className:"operate-btn-item-update",onClick:function(){l.openEditRow?Oe(E):l.onUpdate(E,d)},children:"\u7F16\u8F91"}),l.onDelete&&(0,e.jsx)(U.Z,{title:"\u786E\u8BA4\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417?",onConfirm:function(){l.onDelete(E)},onCancel:function(){},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,e.jsx)("div",{className:"operate-btn-item-delete",children:"\u5220\u9664"})}),l.onPreview&&(0,e.jsx)("div",{className:"operate-btn-item-preview",onClick:function(){l.onPreview(E)},children:"\u8BE6\u60C5"})]})}}),o},He=function(l,o){t.onSelectChange&&t.onSelectChange(o),Y(l)},Me=function(){t.onSelectChange&&t.onSelectChange([]),Y([])},Ve={selectedRowKeys:B,onChange:He},Ye=function(l){return(0,e.jsx)("td",{children:l.editing?(0,e.jsx)(j.Z.Item,{name:l.dataIndex,style:{margin:0},rules:[{required:l.required||!1,message:"\u8BF7\u8F93\u5165".concat(l.title,"!")}],children:H(i()(i()({},l),{},{width:"fit-content"}))}):(0,e.jsx)("div",{className:"table-cell-".concat(l.align||"center"),children:l.children})})},Je=t.columns.map(function(m){return i()(i()({},m),{},{onCell:function(o){return i()(i()({record:o},m),{},{editing:W(o)})}})}),p=function(){return(0,e.jsx)(P.ZP,{locale:T.Z,children:(0,e.jsxs)(fe.Z,{spinning:t.loading||!1,tip:"\u52A0\u8F7D\u4E2D...",children:[!t.purTable&&(0,e.jsx)("div",{className:"form-search",children:(0,e.jsx)(j.Z,{form:s,onFinish:function(o){t.onSearchBarFinish&&t.onSearchBarFinish(o)},children:(0,e.jsxs)("div",{className:"form-item-list",children:[Se(t.columns),(0,e.jsxs)("div",{className:"submit-btn",children:[(0,e.jsx)(g.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,e.jsx)(g.ZP,{onClick:function(){s.resetFields()},children:"\u91CD\u7F6E"})]})]})})}),(0,e.jsxs)("div",{className:"active-info",children:[B.length>0&&(0,e.jsx)("div",{className:"select-info-text",children:(0,e.jsxs)("div",{className:"has-select-word",children:["\u5DF2\u9009\u4E2D ",(0,e.jsx)("span",{className:"has-select-num",children:B.length})," \u6761\u6570\u636E",(0,e.jsx)("span",{onClick:Me,className:"clean-data",children:"\u6E05\u7A7A"})]})}),t.onAdd&&(0,e.jsx)(g.ZP,{style:{backgroundColor:"#524bff"},type:"primary",onClick:t.onAdd,children:"\u65B0\u589E\u6570\u636E"}),t.showTools&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G,{title:u?"\u7F29\u5C0F":"\u5168\u5C4F",icon:u?(0,e.jsx)(Fe.Z,{}):(0,e.jsx)(ge.Z,{}),onClick:function(){r(!u)}}),(0,e.jsx)(G,{title:function(){return(0,e.jsx)("div",{children:(0,e.jsx)(Z.ZP.Group,{onChange:function(S){Ae(S.target.value)},value:L,children:(0,e.jsxs)(ve.Z,{direction:"vertical",children:[(0,e.jsx)(Z.ZP,{value:"large",children:"\u5927\u53F7"}),(0,e.jsx)(Z.ZP,{value:"middle",children:"\u4E2D\u7B49"}),(0,e.jsx)(Z.ZP,{value:"small",children:"\u5C0F\u53F7"})]})})})},placement:"bottom",icon:(0,e.jsx)(ye.Z,{})})]})]}),(0,e.jsx)(j.Z,{form:D,component:!1,children:(0,e.jsx)(xe.Z,i()({components:t.dataSource.length>0?{body:{cell:Ye}}:{},size:L,rowSelection:t.openSelect?Ve:void 0,bordered:t.bordered||!0,columns:Ge(i()(i()({},t),{},{columns:Je})),dataSource:t.dataSource.map(function(l,o){return i()(i()({},l),{},{key:o})}),pagination:Ke},t.antProps))})]})})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ce.Z,{title:!1,visible:u,footer:null,wrapClassName:"super-modal-max",closable:!1,destroyOnClose:!0,mask:!1,width:"100vw",children:p()}),!u&&(0,e.jsx)(e.Fragment,{children:p()})]})},we=Ee,Ze=function(t){return(0,e.jsx)(e.Fragment,{})},Be=Ze,De=n(1484),be=function(t){var a=(0,x.useRef)(null),h=(0,x.useRef)(null);return(0,x.useEffect)(function(){a.current&&(h.current=De.S1(a.current,"vintage"))},[t.width]),(0,x.useEffect)(function(){h.current.setOption(t.options,!0)},[t.options]),(0,e.jsx)("div",{ref:a,style:{width:t.width||"100%",height:t.height||"100%"}})},Ie=be,We=n(32411),M=n(84686),Pe=function(t){var a=(0,x.useState)(null),h=F()(a,2),s=h[0],C=h[1],v={excludeKeys:["uploadImage","uploadVideo","fullScreen"]},u={placeholder:t.placeholder||"\u8BF7\u8F93\u5165\u5185\u5BB9..."};return(0,x.useEffect)(function(){return function(){s!=null&&(s.destroy(),C(null))}},[s]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{style:{border:"1px solid #ccc",display:"flex",flexDirection:"column",width:t.width||"100%",height:t.height||"100%"},children:[(0,e.jsx)(M.o,{editor:s,defaultConfig:v,mode:"default",style:{borderBottom:"1px solid #ccc"}}),(0,e.jsx)(M.M,{defaultConfig:u,value:t.html,onCreated:C,onChange:function(f){t.onChange&&t.onChange(f.getHtml())},mode:"default",style:{flexGrow:1,overflowY:"scroll",overflowX:"scroll"}})]})})},Te=Pe}}]);
