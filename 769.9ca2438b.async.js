"use strict";(self.webpackChunkxhy_react=self.webpackChunkxhy_react||[]).push([[769],{55769:function(pe,I,n){n.r(I),n.d(I,{ColumnsProps:function(){return Pe},DebounceX:function(){return _},Echarts:function(){return De},Foo:function(){return te},Introduce:function(){return re},RichEdit:function(){return Te},SCPoint:function(){return Re},SuperForm:function(){return ae},SuperTable:function(){return we}});var x=n(71062),t=n(99678),q=function(e){var o=function(v){var i;return function(){var r=!0;return i&&(clearTimeout(i),r=!1),i=setTimeout(function(){clearTimeout(i),i=!1},v),r}},d=o(e.wait||500),u=function(){d()&&e.onDebounceClick()};return(0,t.jsx)("div",{onClick:u,children:e.children})},_=q,ee=function(e){return(0,t.jsx)("h4",{children:e.title})},te=ee,T=n(66451),ne=n(89442),N=n(70554),le=function(e){return(0,t.jsx)(T.ZP,{locale:N.Z,children:(0,t.jsx)(ne.Z,{open:e.open||!1,onClose:e.onClose,steps:e.steps||[]})})},re=le,oe=n(82242),s=n.n(oe),ie=n(79800),j=n.n(ie),F=n(3609),R=n(72498),A=n(68905),k=n(66490),w=n(28084),O=n(41185),$=n(60994),z=n(46676),K=n(9914),y=n(53983),ue=function(e){var o=F.Z.useForm(),d=j()(o,1),u=d[0],f=function(r){switch(r.dataType){case"input":return(0,t.jsx)(R.Z,{style:{width:r.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(r.title)});case"boolean":return(0,t.jsx)(A.Z,{});case"number":return(0,t.jsx)(k.Z,{});case"date":return(0,t.jsx)(w.default,{style:{width:r.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(r.title)});case"datetime":return(0,t.jsx)(w.default,{style:{width:r.width||300},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),showTime:!0});case"time":return(0,t.jsx)(O.Z,{style:{width:r.width||260},showNow:!0});case"select":return(0,t.jsx)($.default,{style:{width:r.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0,options:r.dataSource||[]});case"cascader":return(0,t.jsx)(z.Z,{style:{width:r.width||260},options:r.dataSource||[],placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0});case"tree":return(0,t.jsx)(K.Z,{showSearch:!0,dropdownStyle:{width:r.width||260,maxHeight:400,overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0,treeDefaultExpandAll:!0,treeData:r.dataSource||[]});default:return(0,t.jsx)(R.Z,{style:{width:r.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(r.title)})}},v=function(r){return r.map(function(h){return(0,t.jsx)(F.Z.Item,s()(s()({name:h.dataIndex,label:h.title,valuePropName:h.dataType==="boolean"?"checked":"value",rules:[{required:h.required,message:"\u8BF7\u8F93\u5165".concat(h.title,"!")}]},h.antItemProps),{},{children:f(h)}),h.dataIndex)})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(F.Z,s()(s()({form:u,onFinish:function(r){e.onSearchBarFinish&&e.onSearchBarFinish(r)}},e.antProps),{},{children:e.type=="line"||!e.type?(0,t.jsxs)("div",{className:"form-item-list",children:[v(e.columns),(0,t.jsxs)("div",{className:"submit-btn",children:[(0,t.jsx)(y.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,t.jsx)(y.ZP,{onClick:function(){u.resetFields(),e.onReset&&e.onReset()},children:"\u91CD\u7F6E"})]})]}):(0,t.jsxs)(t.Fragment,{children:[v(e.columns),(0,t.jsxs)("div",{className:"submit-btn-vertical",children:[(0,t.jsx)(y.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,t.jsx)(y.ZP,{onClick:function(){u.resetFields(),e.onReset&&e.onReset()},children:"\u91CD\u7F6E"})]})]})}))})},ae=ue,ce=n(37205),se=n.n(ce),de=n(7557),U=n.n(de),he=n(41498),me=n.n(he),X=n(94166),fe=n(47577),Z=n(57139),ve=n(48768),Ce=n(74909),xe=n(13080),G=n(54683),je=n(62995),H=function(a){var e=a.title,o=a.icon,d=a.myStyle,u=a.placement,f=a.onClick,v=a.action;return(0,t.jsx)(je.Z,{title:e,placement:u,mouseEnterDelay:0,color:"#ffffff",overlayInnerStyle:{color:"#000"},children:(0,t.jsx)("div",{className:v?"IconButtonAction IconButton":"IconButton",style:d||{width:40,height:40},onClick:f,children:o&&o})})},Fe=n(64281),ye=n(83951),ge=n(19178),M=function(e){switch(e.dataType){case"input":return(0,t.jsx)(G.ZP,{allowClear:!0,style:{width:e.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(e.title)});case"boolean":return(0,t.jsx)(A.Z,{});case"number":return(0,t.jsx)(k.Z,{});case"date":return(0,t.jsx)(w.default,{allowClear:!0,style:{width:e.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(e.title)});case"datetime":return(0,t.jsx)(w.default,{allowClear:!0,style:{width:e.width||300},placeholder:"\u8BF7\u9009\u62E9".concat(e.title),showTime:!0});case"time":return(0,t.jsx)(O.Z,{allowClear:!0,style:{width:e.width||260},showNow:!0});case"select":return(0,t.jsx)($.default,{style:{width:e.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(e.title),allowClear:!0,options:e.dataSource||[]});case"cascader":return(0,t.jsx)(z.Z,{style:{width:e.width||260},options:e.dataSource||[],placeholder:"\u8BF7\u9009\u62E9".concat(e.title),allowClear:!0});case"tree":return(0,t.jsx)(K.Z,{showSearch:!0,dropdownStyle:{width:e.width||260,maxHeight:400,overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9".concat(e.title),allowClear:!0,treeDefaultExpandAll:!0,treeData:e.dataSource||[]});default:return(0,t.jsx)(G.ZP,{allowClear:!0,style:{width:e.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(e.title)})}},Se=function(e){return e.filter(function(o){return o.search}).map(function(o){return(0,t.jsx)(F.Z.Item,{name:o.dataIndex,label:o.title,valuePropName:o.dataType==="boolean"?"checked":"value",rules:[{required:o.required,message:"\u8BF7\u8F93\u5165".concat(o.title,"!")}],children:M(o)},o.dataIndex)})},Ee=function(e){var o=F.Z.useForm(),d=j()(o,1),u=d[0],f=(0,x.useState)(!1),v=j()(f,2),i=v[0],r=v[1],h=(0,x.useState)([]),P=j()(h,2),b=P[0],Y=P[1],Ae=(0,x.useState)("middle"),J=j()(Ae,2),L=J[0],ke=J[1],Oe=F.Z.useForm(),$e=j()(Oe,1),B=$e[0],ze=(0,x.useState)(""),Q=j()(ze,2),Ke=Q[0],D=Q[1],W=function(l){return l.key===Ke},Ue={showSizeChanger:!0,onChange:function(l,c){e.onPageChange&&e.onPageChange(l,c)}},Xe=function(l){B.setFieldsValue(s()({},l)),D(l.key)},Ge=function(){D("")},He=function(){var C=me()(U()().mark(function l(c){var S;return U()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,B.validateFields();case 3:S=m.sent,e.onUpdate&&e.onUpdate(S,c),D(""),m.next=11;break;case 8:m.prev=8,m.t0=m.catch(0),console.log(m.t0);case 11:case"end":return m.stop()}},l,null,[[0,8]])}));return function(c){return C.apply(this,arguments)}}(),Me=function(l){var c=se()(l.columns);return(l.onDelete||l.onUpdate||l.onPreview)&&c.push({title:"\u64CD\u4F5C",align:"center",key:"edit",readOnly:!0,fixed:"right",width:200,render:function(E,m){var We=W(m);return We?(0,t.jsxs)("div",{className:"table-operation-btn",children:[(0,t.jsx)("div",{className:"operate-btn-item-update",onClick:function(){He(m)},children:"\u4FDD\u5B58"}),(0,t.jsx)(X.Z,{title:"\u786E\u8BA4\u53D6\u6D88\u4FDD\u5B58\u5417?",onConfirm:function(){Ge()},onCancel:function(){},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,t.jsx)("div",{className:"operate-btn-item-delete",children:"\u53D6\u6D88"})})]}):(0,t.jsxs)("div",{className:"table-operation-btn",children:[l.onUpdate&&(0,t.jsx)("div",{className:"operate-btn-item-update",onClick:function(){l.openEditRow?Xe(E):l.onUpdate(E,m)},children:"\u7F16\u8F91"}),l.onDelete&&(0,t.jsx)(X.Z,{title:"\u786E\u8BA4\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417?",onConfirm:function(){l.onDelete(E)},onCancel:function(){},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,t.jsx)("div",{className:"operate-btn-item-delete",children:"\u5220\u9664"})}),l.onPreview&&(0,t.jsx)("div",{className:"operate-btn-item-preview",onClick:function(){l.onPreview(E)},children:"\u8BE6\u60C5"})]})}}),c},Ve=function(l,c){e.onSelectChange&&e.onSelectChange(c),Y(l)},Ye=function(){e.onSelectChange&&e.onSelectChange([]),Y([])},Je={selectedRowKeys:b,onChange:Ve},Le=function(l){return(0,t.jsx)("td",{children:l.editing?(0,t.jsx)(F.Z.Item,{name:l.dataIndex,style:{margin:0},rules:[{required:l.required||!1,message:"\u8BF7\u8F93\u5165".concat(l.title,"!")}],children:M(s()(s()({},l),{},{width:"fit-content"}))}):(0,t.jsx)("div",{className:"table-cell-".concat(l.align||"center"),children:l.children})})},Qe=e.columns.map(function(C){return s()(s()({},C),{},{onCell:function(c){return s()(s()({record:c},C),{},{editing:W(c)})}})}),p=function(){return(0,t.jsx)(T.ZP,{locale:N.Z,children:(0,t.jsxs)(fe.Z,{spinning:e.loading||!1,tip:"\u52A0\u8F7D\u4E2D...",children:[!e.purTable&&(0,t.jsx)("div",{className:"form-search",children:(0,t.jsx)(F.Z,{form:u,onFinish:function(c){e.onSearchBarFinish&&e.onSearchBarFinish(c)},children:(0,t.jsxs)("div",{className:"form-item-list",children:[Se(e.columns),(0,t.jsxs)("div",{className:"submit-btn",children:[(0,t.jsx)(y.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,t.jsx)(y.ZP,{onClick:function(){u.resetFields()},children:"\u91CD\u7F6E"})]})]})})}),(0,t.jsxs)("div",{className:"active-info",children:[b.length>0&&(0,t.jsx)("div",{className:"select-info-text",children:(0,t.jsxs)("div",{className:"has-select-word",children:["\u5DF2\u9009\u4E2D ",(0,t.jsx)("span",{className:"has-select-num",children:b.length})," \u6761\u6570\u636E",(0,t.jsx)("span",{onClick:Ye,className:"clean-data",children:"\u6E05\u7A7A"})]})}),e.onAdd&&(0,t.jsx)(y.ZP,{style:{backgroundColor:"#524bff"},type:"primary",onClick:e.onAdd,children:"\u65B0\u589E\u6570\u636E"}),e.showTools&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(H,{title:i?"\u7F29\u5C0F":"\u5168\u5C4F",icon:i?(0,t.jsx)(Fe.Z,{}):(0,t.jsx)(ye.Z,{}),onClick:function(){r(!i)}}),(0,t.jsx)(H,{title:function(){return(0,t.jsx)("div",{children:(0,t.jsx)(Z.ZP.Group,{onChange:function(S){ke(S.target.value)},value:L,children:(0,t.jsxs)(ve.Z,{direction:"vertical",children:[(0,t.jsx)(Z.ZP,{value:"large",children:"\u5927\u53F7"}),(0,t.jsx)(Z.ZP,{value:"middle",children:"\u4E2D\u7B49"}),(0,t.jsx)(Z.ZP,{value:"small",children:"\u5C0F\u53F7"})]})})})},placement:"bottom",icon:(0,t.jsx)(ge.Z,{})})]})]}),(0,t.jsx)(F.Z,{form:B,component:!1,children:(0,t.jsx)(Ce.Z,s()({components:e.dataSource.length>0?{body:{cell:Le}}:{},size:L,rowSelection:e.openSelect?Je:void 0,bordered:e.bordered||!0,columns:Me(s()(s()({},e),{},{columns:Qe})),dataSource:e.dataSource.map(function(l,c){return s()(s()({},l),{},{key:c})}),pagination:Ue},e.antProps))})]})})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(xe.Z,{title:!1,visible:i,footer:null,wrapClassName:"super-modal-max",closable:!1,destroyOnClose:!0,mask:!1,width:"100vw",children:p()}),!i&&(0,t.jsx)(t.Fragment,{children:p()})]})},we=Ee,Ze=function(e){return(0,t.jsx)(t.Fragment,{})},Pe=Ze,be=n(1484),Be=function(e){var o=(0,x.useRef)(null),d=(0,x.useRef)(null);return(0,x.useEffect)(function(){o.current&&(d.current=be.S1(o.current,"vintage"))},[e.width]),(0,x.useEffect)(function(){d.current.setOption(e.options,!0)},[e.options]),(0,t.jsx)("div",{ref:o,style:{width:e.width||"100%",height:e.height||"100%"}})},De=Be,qe=n(32411),V=n(84686),Ie=function(e){var o=(0,x.useState)(null),d=j()(o,2),u=d[0],f=d[1],v={excludeKeys:["uploadImage","uploadVideo","fullScreen"]},i={placeholder:e.placeholder||"\u8BF7\u8F93\u5165\u5185\u5BB9..."};return(0,x.useEffect)(function(){return function(){u!=null&&(u.destroy(),f(null))}},[u]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{style:{border:"1px solid #ccc",display:"flex",flexDirection:"column",width:e.width||"100%",height:e.height||"100%"},children:[(0,t.jsx)(V.o,{editor:u,defaultConfig:v,mode:"default",style:{borderBottom:"1px solid #ccc"}}),(0,t.jsx)(V.M,{defaultConfig:i,value:e.html,onCreated:f,onChange:function(h){e.onChange&&e.onChange(h.getHtml())},mode:"default",style:{flexGrow:1,overflowY:"scroll",overflowX:"scroll"}})]})})},Te=Ie,Ne=function(e){var o=!1,d=(0,x.useState)(),u=j()(d,2),f=u[0],v=u[1],i=function(){var h=new IntersectionObserver(function(P){P[0].intersectionRatio>0&&(e.reportAllways?e.onPointShow&&e.onPointShow({id:e.id,reportContent:e.reportContent}):o||e.onPointShow&&e.onPointShow({id:e.id,reportContent:e.reportContent}),o=!0)});h.observe(document.getElementById("".concat(e.id))),v(h)};return(0,x.useEffect)(function(){return i(),function(){f==null||f.disconnect()}},[]),(0,t.jsx)("div",{id:e.id,onClick:function(){e.onPointClick&&e.onPointClick({id:e.id,reportContent:e.reportContent})},children:e.children})},Re=Ne}}]);
