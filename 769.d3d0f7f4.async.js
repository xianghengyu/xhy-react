"use strict";(self.webpackChunkxhy_react=self.webpackChunkxhy_react||[]).push([[769],{55769:function(_e,N,n){n.r(N),n.d(N,{ColumnsProps:function(){return Be},DebounceX:function(){return te},Echarts:function(){return Te},Foo:function(){return le},Introduce:function(){return ae},RichEdit:function(){return Re},SCPoint:function(){return Ae},SuperForm:function(){return se},SuperTable:function(){return Pe}});var v=n(71062),t=n(99678),ee=function(e){var i=function(C){var o;return function(){var r=!0;return o&&(clearTimeout(o),r=!1),o=setTimeout(function(){clearTimeout(o),o=!1},C),r}},d=i(e.wait||500),a=function(){d()&&e.onDebounceClick()};return(0,t.jsx)("div",{onClick:a,children:e.children})},te=ee,ne=function(e){return(0,t.jsx)("h4",{children:e.title})},le=ne,b=n(66451),re=n(89442),B=n(70554),ie=function(e){return(0,t.jsx)(b.ZP,{locale:B.Z,children:(0,t.jsx)(re.Z,{open:e.open||!1,onClose:e.onClose,steps:e.steps||[]})})},ae=ie,oe=n(82242),s=n.n(oe),ue=n(79800),j=n.n(ue),y=n(28084),F=n(3609),R=n(72498),k=n(68905),A=n(66490),O=n(41185),$=n(60994),z=n(46676),K=n(9914),g=n(53983),V=y.default.RangePicker,ce=function(e){var i=F.Z.useForm(),d=j()(i,1),a=d[0];(0,v.useEffect)(function(){e.defaultVlalue&&a.setFieldsValue(e.defaultVlalue)},[e.defaultVlalue]);var f=function(r){switch(r.dataType){case"input":return(0,t.jsx)(R.Z,{style:{width:r.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(r.title)});case"boolean":return(0,t.jsx)(k.Z,{});case"number":return(0,t.jsx)(A.Z,{});case"rangPicker":return(0,t.jsx)(V,{allowClear:!0,style:{width:r.width||300}});case"rangTimePicker":return(0,t.jsx)(V,{allowClear:!0,style:{width:r.width||300},showTime:!0});case"date":return(0,t.jsx)(y.default,{style:{width:r.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(r.title)});case"datetime":return(0,t.jsx)(y.default,{style:{width:r.width||300},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),showTime:!0});case"time":return(0,t.jsx)(O.Z,{style:{width:r.width||260},showNow:!0});case"select":return(0,t.jsx)($.default,{style:{width:r.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0,options:r.dataSource||[]});case"cascader":return(0,t.jsx)(z.Z,{style:{width:r.width||260},options:r.dataSource||[],placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0});case"tree":return(0,t.jsx)(K.Z,{showSearch:!0,dropdownStyle:{width:r.width||260,maxHeight:400,overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9".concat(r.title),allowClear:!0,treeDefaultExpandAll:!0,treeData:r.dataSource||[]});default:return(0,t.jsx)(R.Z,{style:{width:r.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(r.title)})}},C=function(r){return r.map(function(h){return(0,t.jsx)(F.Z.Item,s()(s()({name:h.dataIndex,label:h.title,valuePropName:h.dataType==="boolean"?"checked":"value",rules:[{required:h.required,message:"\u8BF7\u8F93\u5165".concat(h.title,"!")}]},h.antItemProps),{},{children:f(h)}),h.dataIndex)})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(b.ZP,{locale:B.Z,children:(0,t.jsx)(F.Z,s()(s()({form:a,onFinish:function(r){e.onSearchBarFinish&&e.onSearchBarFinish(r)}},e.antProps),{},{children:e.type=="line"||!e.type?(0,t.jsxs)("div",{className:"form-item-list",children:[C(e.columns),(0,t.jsxs)("div",{className:"submit-btn",children:[(0,t.jsx)(g.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,t.jsx)(g.ZP,{onClick:function(){a.resetFields(),e.onReset&&e.onReset()},children:"\u91CD\u7F6E"})]})]}):(0,t.jsxs)(t.Fragment,{children:[C(e.columns),(0,t.jsxs)("div",{className:"submit-btn-vertical",children:[(0,t.jsx)(g.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,t.jsx)(g.ZP,{onClick:function(){a.resetFields(),e.onReset&&e.onReset()},children:"\u91CD\u7F6E"})]})]})}))})})},se=ce,de=n(37205),he=n.n(de),me=n(7557),U=n.n(me),fe=n(41498),ve=n.n(fe),X=n(94166),Ce=n(47577),Z=n(57139),xe=n(48768),je=n(74909),Fe=n(13080),G=n(54683),ge=n(62995),H=function(u){var e=u.title,i=u.icon,d=u.myStyle,a=u.placement,f=u.onClick,C=u.action;return(0,t.jsx)(ge.Z,{title:e,placement:a,mouseEnterDelay:0,color:"#ffffff",overlayInnerStyle:{color:"#000"},children:(0,t.jsx)("div",{className:C?"IconButtonAction IconButton":"IconButton",style:d||{width:40,height:40},onClick:f,children:i&&i})})},ye=n(64281),Se=n(83951),we=n(19178),M=y.default.RangePicker,Y=function(e){switch(e.dataType){case"input":return(0,t.jsx)(G.ZP,{allowClear:!0,style:{width:e.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(e.title)});case"boolean":return(0,t.jsx)(k.Z,{});case"number":return(0,t.jsx)(A.Z,{});case"rangPicker":return(0,t.jsx)(M,{allowClear:!0,style:{width:e.width||300}});case"rangTimePicker":return(0,t.jsx)(M,{allowClear:!0,style:{width:e.width||300},showTime:!0});case"date":return(0,t.jsx)(y.default,{allowClear:!0,style:{width:e.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(e.title)});case"datetime":return(0,t.jsx)(y.default,{allowClear:!0,style:{width:e.width||300},placeholder:"\u8BF7\u9009\u62E9".concat(e.title),showTime:!0});case"time":return(0,t.jsx)(O.Z,{allowClear:!0,style:{width:e.width||260},showNow:!0});case"select":return(0,t.jsx)($.default,{style:{width:e.width||260},placeholder:"\u8BF7\u9009\u62E9".concat(e.title),allowClear:!0,options:e.dataSource||[]});case"cascader":return(0,t.jsx)(z.Z,{style:{width:e.width||260},options:e.dataSource||[],placeholder:"\u8BF7\u9009\u62E9".concat(e.title),allowClear:!0});case"tree":return(0,t.jsx)(K.Z,{showSearch:!0,dropdownStyle:{width:e.width||260,maxHeight:400,overflow:"auto"},placeholder:"\u8BF7\u9009\u62E9".concat(e.title),allowClear:!0,treeDefaultExpandAll:!0,treeData:e.dataSource||[]});default:return(0,t.jsx)(G.ZP,{allowClear:!0,style:{width:e.width||300},placeholder:"\u8BF7\u8F93\u5165".concat(e.title)})}},Ee=function(e){return e.filter(function(i){return i.search}).map(function(i){return(0,t.jsx)(F.Z.Item,{name:i.dataIndex,label:i.title,valuePropName:i.dataType==="boolean"?"checked":"value",rules:[{required:i.required,message:"\u8BF7\u8F93\u5165".concat(i.title,"!")}],children:Y(i)},i.dataIndex)})},Ze=function(e){var i=F.Z.useForm(),d=j()(i,1),a=d[0],f=(0,v.useState)(!1),C=j()(f,2),o=C[0],r=C[1],h=(0,v.useState)([]),P=j()(h,2),D=P[0],L=P[1],Oe=(0,v.useState)("middle"),Q=j()(Oe,2),W=Q[0],$e=Q[1],ze=F.Z.useForm(),Ke=j()(ze,1),I=Ke[0],Ve=(0,v.useState)(""),q=j()(Ve,2),Ue=q[0],T=q[1],p=function(l){return l.key===Ue},Xe={showSizeChanger:!0,total:e.totalNum||0,onChange:function(l,c){e.onPageChange&&e.onPageChange(l,c)}},Ge=function(l){I.setFieldsValue(s()({},l)),T(l.key)},He=function(){T("")},Me=function(){var x=ve()(U()().mark(function l(c){var w;return U()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.prev=0,m.next=3,I.validateFields();case 3:w=m.sent,e.onUpdate&&e.onUpdate(w,c),T(""),m.next=11;break;case 8:m.prev=8,m.t0=m.catch(0),console.log(m.t0);case 11:case"end":return m.stop()}},l,null,[[0,8]])}));return function(c){return x.apply(this,arguments)}}(),Ye=function(l){var c=he()(l.columns);return(l.onDelete||l.onUpdate||l.onPreview)&&c.push({title:"\u64CD\u4F5C",align:"center",key:"edit",readOnly:!0,fixed:"right",width:200,render:function(E,m){var pe=p(m);return pe?(0,t.jsxs)("div",{className:"table-operation-btn",children:[(0,t.jsx)("div",{className:"operate-btn-item-update",onClick:function(){Me(m)},children:"\u4FDD\u5B58"}),(0,t.jsx)(X.Z,{title:"\u786E\u8BA4\u53D6\u6D88\u4FDD\u5B58\u5417?",onConfirm:function(){He()},onCancel:function(){},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,t.jsx)("div",{className:"operate-btn-item-delete",children:"\u53D6\u6D88"})})]}):(0,t.jsxs)("div",{className:"table-operation-btn",children:[l.onUpdate&&(0,t.jsx)("div",{className:"operate-btn-item-update",onClick:function(){l.openEditRow?Ge(E):l.onUpdate(E,m)},children:"\u7F16\u8F91"}),l.onDelete&&(0,t.jsx)(X.Z,{title:"\u786E\u8BA4\u5220\u9664\u8FD9\u6761\u6570\u636E\u5417?",onConfirm:function(){l.onDelete(E)},onCancel:function(){},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,t.jsx)("div",{className:"operate-btn-item-delete",children:"\u5220\u9664"})}),l.onPreview&&(0,t.jsx)("div",{className:"operate-btn-item-preview",onClick:function(){l.onPreview(E)},children:"\u8BE6\u60C5"})]})}}),c},Je=function(l,c){e.onSelectChange&&e.onSelectChange(c),L(l)},Le=function(){e.onSelectChange&&e.onSelectChange([]),L([])},Qe={selectedRowKeys:D,onChange:Je},We=function(l){return(0,t.jsx)("td",{children:l.editing?(0,t.jsx)(F.Z.Item,{name:l.dataIndex,style:{margin:0},rules:[{required:l.required||!1,message:"\u8BF7\u8F93\u5165".concat(l.title,"!")}],children:Y(s()(s()({},l),{},{width:"fit-content"}))}):(0,t.jsx)("div",{className:"table-cell-".concat(l.align||"center"),children:l.children})})},qe=e.columns.map(function(x){return s()(s()({},x),{},{onCell:function(c){return s()(s()({record:c},x),{},{editing:p(c)})}})}),_=function(){return(0,t.jsx)(b.ZP,{locale:B.Z,children:(0,t.jsxs)(Ce.Z,{spinning:e.loading||!1,tip:"\u52A0\u8F7D\u4E2D...",children:[!e.purTable&&(0,t.jsx)("div",{className:"form-search",children:(0,t.jsx)(F.Z,{form:a,onFinish:function(c){e.onSearchBarFinish&&e.onSearchBarFinish(c)},children:(0,t.jsxs)("div",{className:"form-item-list",children:[Ee(e.columns),(0,t.jsxs)("div",{className:"submit-btn",children:[(0,t.jsx)(g.ZP,{style:{backgroundColor:"#524bff"},type:"primary",htmlType:"submit",children:"\u67E5\u8BE2"}),(0,t.jsx)(g.ZP,{onClick:function(){a.resetFields(),a.submit()},children:"\u91CD\u7F6E"})]})]})})}),(0,t.jsxs)("div",{className:"active-info",children:[D.length>0&&(0,t.jsx)("div",{className:"select-info-text",children:(0,t.jsxs)("div",{className:"has-select-word",children:["\u5DF2\u9009\u4E2D ",(0,t.jsx)("span",{className:"has-select-num",children:D.length})," \u6761\u6570\u636E",(0,t.jsx)("span",{onClick:Le,className:"clean-data",children:"\u6E05\u7A7A"})]})}),e.onAdd&&(0,t.jsx)(g.ZP,{style:{backgroundColor:"#524bff"},type:"primary",onClick:e.onAdd,children:"\u65B0\u589E\u6570\u636E"}),e.showTools&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(H,{title:o?"\u7F29\u5C0F":"\u5168\u5C4F",icon:o?(0,t.jsx)(ye.Z,{}):(0,t.jsx)(Se.Z,{}),onClick:function(){r(!o)}}),(0,t.jsx)(H,{title:function(){return(0,t.jsx)("div",{children:(0,t.jsx)(Z.ZP.Group,{onChange:function(w){$e(w.target.value)},value:W,children:(0,t.jsxs)(xe.Z,{direction:"vertical",children:[(0,t.jsx)(Z.ZP,{value:"large",children:"\u5927\u53F7"}),(0,t.jsx)(Z.ZP,{value:"middle",children:"\u4E2D\u7B49"}),(0,t.jsx)(Z.ZP,{value:"small",children:"\u5C0F\u53F7"})]})})})},placement:"bottom",icon:(0,t.jsx)(we.Z,{})})]})]}),(0,t.jsx)(F.Z,{form:I,component:!1,children:(0,t.jsx)(je.Z,s()({components:e.dataSource.length>0?{body:{cell:We}}:{},size:W,rowSelection:e.openSelect?Qe:void 0,bordered:e.bordered||!0,columns:Ye(s()(s()({},e),{},{columns:qe})),dataSource:e.dataSource.map(function(l,c){return s()(s()({},l),{},{key:c})}),pagination:Xe},e.antProps))})]})})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Fe.Z,{title:!1,visible:o,footer:null,wrapClassName:"super-modal-max",closable:!1,destroyOnClose:!0,mask:!1,width:"100vw",children:_()}),!o&&(0,t.jsx)(t.Fragment,{children:_()})]})},Pe=Ze,be=function(e){return(0,t.jsx)(t.Fragment,{})},Be=be,De=n(1484),Ie=function(e){var i=(0,v.useRef)(null),d=(0,v.useRef)(null);return(0,v.useEffect)(function(){i.current&&(d.current=De.S1(i.current,"vintage"))},[e.width]),(0,v.useEffect)(function(){d.current.setOption(e.options,!0)},[e.options]),(0,t.jsx)("div",{ref:i,style:{width:e.width||"100%",height:e.height||"100%"}})},Te=Ie,et=n(32411),J=n(84686),Ne=function(e){var i=(0,v.useState)(null),d=j()(i,2),a=d[0],f=d[1],C={excludeKeys:["uploadImage","uploadVideo","fullScreen"]},o={placeholder:e.placeholder||"\u8BF7\u8F93\u5165\u5185\u5BB9..."};return(0,v.useEffect)(function(){return function(){a!=null&&(a.destroy(),f(null))}},[a]),(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{style:{border:"1px solid #ccc",display:"flex",flexDirection:"column",width:e.width||"100%",height:e.height||"100%"},children:[(0,t.jsx)(J.o,{editor:a,defaultConfig:C,mode:"default",style:{borderBottom:"1px solid #ccc"}}),(0,t.jsx)(J.M,{defaultConfig:o,value:e.html,onCreated:f,onChange:function(h){e.onChange&&e.onChange(h.getHtml())},mode:"default",style:{flexGrow:1,overflowY:"scroll",overflowX:"scroll"}})]})})},Re=Ne,ke=function(e){var i=!1,d=(0,v.useState)(),a=j()(d,2),f=a[0],C=a[1],o=function(){var h=new IntersectionObserver(function(P){P[0].intersectionRatio>0&&(e.reportAllways?e.onPointShow&&e.onPointShow({id:e.id,reportContent:e.reportContent}):i||e.onPointShow&&e.onPointShow({id:e.id,reportContent:e.reportContent}),i=!0)});h.observe(document.getElementById("".concat(e.id))),C(h)};return(0,v.useEffect)(function(){return o(),function(){f==null||f.disconnect()}},[]),(0,t.jsx)("div",{id:e.id,onClick:function(){e.onPointClick&&e.onPointClick({id:e.id,reportContent:e.reportContent})},children:e.children})},Ae=ke}}]);
